---
title: Viewing Logs and Metrics in Pivotal Platform
owner: Oratos, Log Egress, Loggregator
---

This topic describes how to access logs and metrics for VMs and app containers on your Pivotal Platform deployment. It includes information about the available logs and metrics for the Pivotal Application Service (PAS) and Pivotal Container Service (PKS) runtimes.

## <a id="overview"></a> Overview

There are different methods for accessing logs and metrics for VMs and app containers on Pivotal Platform depending on if you use the PAS or PKS app runtime for your deployment.

There are also different permissions required to access logs and metrics on PAS and PKS.
You can use the sections in this topic to understand how to access logs and metrics on your PAS or PKS deployment based on your user role permissions.


## <a id="director-vm-logs"></a> View Platform Director VM Logs



## <a id="vm-logs"></a> View VM Logs

This section describes how to view logs for Pivotal Platform VMs. Pivotal Platform VM logs include logs for runtime component VMs and service tile VMs. 

The format for VM logs is Syslog RFC 5424. See [RFC 5424 - The Syslog Protocol](https://tools.ietf.org/html/rfc5424) in the Internet Engineering Task Force (IETF) documentation.

See one of the following sections below:

* [View VM Logs on PAS](#vm-logs-pas)
* [View VM Logs on PKS](#vm-logs-pks)

### <a id="vm-logs-pas"></a> View VM Logs on PAS

The following table describes how to access VM logs on foundations with PAS based on user role and permissions. 

<table class="nice">
	<tr>
		<th width="15%">Title</th>
		<th width="20%">Pivotal Platform Role</th>
		<th width="30%">Procedure</th>
		<th width="30%">Notes</th>
	</tr>
	<tr>
		<td>Operator</td>
		<td><code>Admin</code></td>
		<td>Configure system logging in PAS. See the <a href="./configure-pas.html#sys-logging">Configure System Logging</a> section of <em>Configuring PAS</em>.</td>
		<td>You must also configure syslog in each service tile for which you want logs. For more information, see the documentation for the service tile.</td>
	</tr>
	<tr>
		<td>Developer</td>
		<td><code>Space Developer</code></td>
		<td>Not applicable.</td>
		<td>Not applicable.</td>
	</tr>
</table>

### <a id="vm-logs-pks"></a> View VM Logs on PKS

The following table describes how to access VM logs on foundations with PKS based on user role and permissions. 

<table class="nice">
	<tr>
		<th width="15%">Title</th>
		<th width="20%">Pivotal Platform Role</th>
		<th width="30%">Procedure</th>
		<th width="30%">Notes</th>
	</tr>
	<tr>
		<td>Operator</td>
		<td><code>Admin</code></td>
		<td>Enable system logging in PKS. See the <a href="https://docs.pivotal.io/pks/installing-pks-vsphere.html#syslog">(Optional) Host Monitoring</a> section in the PKS installation topic for your IaaS.</td>
		<td>You must also configure syslog in each service tile for which you want logs. For more information, see the documentation for the service tile.</td>
	</tr>
	<tr>
		<td>Cluster Admin/Developer</td>
		<td>The operator defines the role-based access policy for viewing VM logs</td>
		<td>Not applicable.</td>
		<td>Not applicable.</td>
	</tr>
</table>

## <a id="vm-metrics"></a> View VM Metrics

This section describes how to view metrics for Pivotal Platform VMs. 

See one of the following sections below:

* [View VM Metrics on PAS](#vm-metrics-pas)
* [View VM Metrics on PKS](#vm-metrics-pks)

### <a id="vm-metrics-pas"></a> View VM Metrics on PAS

For PAS deployments, VM metrics include PAS component and service tile VM metrics.

The following table describes how to access VM metrics on foundations with PAS based on user role and permissions.

<table class="nice">
	<tr>
		<th width="15%">Title</th>
		<th width="20%">Pivotal Platform Role</th>
		<th width="35%">Procedure</th>
		<th width="30%">Notes</th>
	</tr>
	<tr>
		<td>Operator</td>
		<td><code>Admin</code></td>
		<td>Pivotal Platform emits VM metrics through the Loggregator Firehose. No additional configuration is required to view VM metrics through the Firehose. See <a href="https://docs.pivotal.io/platform/application-service/loggregator/architecture.html">Loggregator Architecture</a>.</td>
		<td>The Firehose emits metrics as a gauge or counter Loggregator envelope type. See <a href="https://github.com/cloudfoundry/loggregator-api/blob/master/README.md">loggregator-api</a> on Github.</td>
	</tr>
	<tr>
		<td>Developer</td>
		<td><code>Space Developer</code></td>
		<td>The <code>Space Developer</code> role does not have access to VM metrics.</td>
		<td></td>
	</tr>
</table>

### <a id="vm-metrics-pks"></a> View VM Metrics on PKS 

For Pivotal Platform deployments with PKS, VM metrics include metrics for the master and worker nodes.

<p class="note"><strong>Note:</strong> VM metrics are available on PKS v1.5 and later.</p> 

The following table describes how to access VM metrics on foundations with PKS based on user role and permissions.

<table class="nice">
	<tr>
		<th width="15%">Title</th>
		<th width="20%">Pivotal Platform Role</th>
		<th width="30%">Procedure</th>
		<th width="30%">Notes</th>
	</tr>
	<tr>
		<td>Operator</td>
		<td><code>Admin</code></td>
		<td>Configure an output plugin in the PKS tile. See <a href="https://docs.pivotal.io/pks/create-sinks.html">Creating Sink Resources</a> in the PKS documentation.</td>
		<td>Component VM Metrics include the master node only.</td>
	</tr>
	<tr>
		<td>Cluster Admin</td>
		<td>The operator defines the role-based access policy for viewing VM metrics.</td>
		<td>Configure a cluster metrics sink in the PKS tile. See <a href="https://docs.pivotal.io/pks/create-sinks.html">Creating Sink Resources</a> in the PKS documentation.</td>
		<td>
			<ul>
				<li>You must configure a metric sink for each new cluster.</li>
				<li>Component VM Metrics include the worker nodes only.</li>
			</ul>
		</td>
	</tr>
	<tr>
		<td>Developer</td>
		<td>Available on network by default.</td>
		<td></td>
	</tr>
</table>	

## <a id="app-logs"></a> View App Container Logs 

This section describes how to view app logs on Pivotal Platform. 

See one of the following sections below:

* [View App Container Logs on PAS](#app-logs-pas)
* [View App Container Logs on PKS](#app-logs-pks)

### <a id="app-logs-pas"></a> View App Container Logs on PAS

App container logs for PAS deployments include logs for apps and service instances.

The following table describes how to access app logs on foundations with PAS based on user role and permissions.

<table class="nice">
	<tr>
		<th width="15%">Title</th>
		<th width="20%">Pivotal Platform Role</th>
		<th width="30%">Procedure</th>
		<th width="30%">Notes</th>
	</tr>
	<tr>
		<td>Operator</td>
		<td><code>Admin</code></td>
		<td>View logs with one of the following methods:
			<ul>
				<li><strong>Loggregator Firehose:</strong> No configuration required. The Firehose emits logs as text payload. The developer defines the log format. See <a href="https://github.com/cloudfoundry/loggregator-api/blob/master/README.md">loggregator-api</a> on Github.</li>
				<li><strong>Syslog Drain:</strong> Requires configuration of Syslog Adapter Drain. See <a href="https://docs.pivotal.io/platform/application-service/devguide/services/log-management.html#step2">Streaming App Logs to Log Management Services</a>.</li>
				<li><strong>Aggregate Syslog Drain:</strong> A syslog drain that sends all app logs to a single destination. Configure the aggregate syslog drain in the PAS tile. See <a href="https://docs.pivotal.io/platform/application-service/2-8/operating/configure-pas.html#sys-db">(Optional) Configure System Logging</a> in _Configuring PAS_.</li>
			</ul>
		</td>
		<td><ul><li>The Firehose does not emit logs for service instances. To view service instance logs, use the syslog drain method.</li><li>
		Syslog drains emit logs as Syslog RFC 5424.</li></ul></td>
	</tr>
	<tr>
		<td>Developer</td>
		<td><code>Space Developer</code></td>
		<td>View logs with one of the following methods:
			<ul>
				<li><strong>Loggregator Firehose</strong>: The Firehose emits logs as text payload. The developer defines the log format. See <a href="https://github.com/cloudfoundry/loggregator-api/blob/master/README.md">loggregator-api</a> on Github.</li>
				<li><strong>Syslog Drain</strong>: Requires configuration of Syslog Adapter Drain. See <a href="https://docs.pivotal.io/platform/application-service/devguide/services/log-management.html#step2">Streaming App Logs to Log Management Services</a>.</li>
			</ul>
		</td>
		<td>
			<ul>
				<li>The Firehose does not emit logs for service instances.</li>
				<li>Syslog drains emit logs as Syslog RFC 5424.</li>
			</ul>
	</td>
	</tr>
</table>


### <a id="app-logs-pks"></a> View App Container Logs on PKS

The following table describes how to access app container logs on foundations with PKS based on user role and permissions.

<table class="nice">
	<tr>
		<th width="15%">Title</th>
		<th width="20%">Pivotal Platform Role</th>
		<th width="30%">Procedure</th>
		<th width="30%">Notes</th>
	</tr>
	<tr>
		<td>Operator</td>
		<td><code>Admin</code></td>
		<td>Configure a cluster log sink in the PKS tile. See <a href="https://docs.pivotal.io/pks/create-sinks.html">Creating Sink Resources</a> in the PKS documentation.</td>
		<td>
			<ul>
				<li>You can scope the log sink by configuring a namespace log sink.See <a href="https://docs.pivotal.io/pks/create-sinks.html">Creating Sink Resources</a>.</li>
				<li>You must configure a metric sink for each new cluster. </li>
				<li>You must provide your own access policy.</li>
			</ul>	
		</td>
	</tr>
	<tr>
		<td>Cluster Admin</td>
		<td>The operator defines the role-based access policy for viewing app logs.</td>
		<td>Configure a cluster log sink in the PKS tile. See <a href="https://docs.pivotal.io/pks/create-sinks.html">Creating Sink Resources</a> in the PKS documentation.</td>
		<td>
			<ul>
				<li>You can scope the log sink by configuring a namespace log sink.See <a href="https://docs.pivotal.io/pks/create-sinks.html">Creating Sink Resources</a>.</li>
				<li>You must configure a metric sink for each new cluster. </li>
				<li>You must provide your own access policy.</li>
			</ul>
		</td>
	</tr>
	<tr>
		<td>Developer</td>
		<td>The operator defines the role-based access policy for viewing app logs.</td>
		<td></td>
		<td>
		</td>
	</tr>
</table>


## <a id="app-metrics"></a> View App Container Metrics 

This section describes how to view app container metrics on Pivotal Platform. 

See one of the following sections below:

* [View App Container Metrics on PAS](#app-metrics-pas)
* [View App Container Metrics on PKS](#app-metrics-pks)

### <a id="app-metrics-pas"></a> View App Container Metrics on PAS

App container metrics on PAS include app metrics and service instance metrics. App container metrics on PAS do not include task metrics. This is because Diego does not emit task metrics.

The following table describes how to access app container metrics on foundations with PAS based on user role and permissions.

<table class="nice">
	<tr>
		<th width="15%">Title</th>
		<th width="20%">Pivotal Platform Role</th>
		<th width="30%">Procedure</th>
		<th width="30%">Notes</th>
	</tr>
	<tr>
		<td>Operator</td>
		<td><code>Admin</code></td>
		<td>View metrics with one of the following methods:
			<ul>
				<li><strong>Loggregator Firehose</strong>: No configuration required.</li>
				<li><strong>Syslog Drain</strong>: Requires configuration of Syslog Adapter Drain. See <a href="https://docs.pivotal.io/platform/application-service/devguide/services/log-management.html#step2">Streaming App Logs to Log Management Services</a>.</li>
			</ul>
		</td>
		<td>
			<ul>
				<li>The Firehose emits metrics as a gauge or counter Loggregator envelope type. See <a href="https://github.com/cloudfoundry/loggregator-api/blob/master/README.md">loggregator-api</a> on Github.</li>
				<li>Syslog drains emit logs as Syslog RFC 5424.</li>
			</ul>	
		</td>
	</tr>
	<tr>
		<td>Developer</td>
		<td><code>Space Developer</code></td>
		<td>View metrics with one of the following methods:
			<ul>
				<li><strong>Loggregator Firehose</strong>: No configuration required.</li>
				<li><strong>Syslog Drain</strong>: Requires configuration of Syslog Adapter Drain. See <a href="https://docs.pivotal.io/platform/application-service/devguide/services/log-management.html#step2">Streaming App Logs to Log Management Services</a>.</li>
			</ul>
		</td>
		<td></td>
	</tr>
</table>

### <a id="app-metrics-pks"></a> View App Container Metrics on PKS

The following table describes how to access app container metrics on foundations with PKS based on user role and permissions.

<table class="nice">
	<tr>
		<th width="15%">Title</th>
		<th width="20%">Pivotal Platform Role</th>
		<th width="30%">Procedure</th>
		<th width="30%">Notes</th>
	</tr>
	<tr>
		<td>Operator</td>
		<td><code>Admin</code></td>
		<td>Configure a cluster metrics sink in the PKS tile. See <a href="https://docs.pivotal.io/pks/create-sinks.html">Creating Sink Resources</a> in the PKS documentation.</td>
		<td>
			<ul>
				<li>You must configure a metric sink for each new cluster.</li>
				<li>You must provide your own access policy.</li>
			</ul>
		</td>
	</tr>
	<tr>
		<td>Cluster Admin</td>
		<td>The operator defines the role-based access policy for viewing app metrics.</td>
		<td>Configure a cluster metrics sink in the PKS tile. See <a href="https://docs.pivotal.io/pks/create-sinks.html">Creating Sink Resources</a> in the PKS documentation.</td>
		<td>
			<ul>
				<li>You must configure a metric sink for each new cluster.</li>
				<li>You must provide your own access policy.</li>
			</ul>
		</td>
	</tr>
	<tr>
		<td>Developer</td>
		<td>The operator defines the role-based access policy for viewing VM </td>
		<td></td>
		<td>
			Cluster metric sink automatically scrapes an annotated <code>/metrics</code> Prometheus endpoint.
		</td>
	</tr>
</table>
